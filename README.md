# ИДЗ №2 по ОС (на 8 баллов)
Омирбекова Дария<br>
Группа БПИ-217<br>
Вариант 18

### Условие задачи:
Вахтер–процесс следит за тем, чтобы в картинной галерее одновременно было не более 50 процессов–посетителей. Для обозрения представлены 5 картин. Посетитель случайным образом ходит от картины к картине, и если на картину любуются более чем десять посетителей, он стоит в стороне и ждет, пока число желающих увидеть картину не станет меньше. Посетитель может покинуть галерею, когда просмотрит все картины. В галерею также пытаются постоянно зайти новые посетители, которые ожидают своей очереди, если та заполнена.

# Используемые файлы:
> "i_points/name.c". <br>
> i - в названии папки соответсвует баллу, на который выполнялась задача.

# Пояснения к запуску и эксплуатации:
Для запуска программы на определенный балл необходимо зайти в соответствующую папку и ввести:
```s
gcc -pthread i_points/name.c -lrt
./a.out i_points/tests/input_i.txt i_points/tests/output_i.txt
```

# На 4 балла:
### Приведено условие задачи:
> [four.c](https://github.com/Raaazzy/OS_HW_2/blob/main/4_points/four.c)

### Приведены тестовые данные:
> [tests](https://github.com/Raaazzy/OS_HW_2/tree/main/4_points/tests)

### Представлена общая схема решаемой задачи:
Множество процессов взаимодействуют с использованием именованных POSIX семафоров. Обмен данными ведется через разделяемую память в стандарте POSIX.<br>
Пользователь вводит в файл количество посетителей и картин. Каждый посетитель и каждая картинка являются отдельными процессами. Для начала мы создаем область разделяемой памяти а также открываем именнованный симафор. В ходе программы мы запускаем родительский процесс (картину), а далее от нее начинаем запускать дочерние процессы (клиентов). Таким образом мы производим допуск посетителей к просмотру картины. После того, как все посетители "посмотрели" все картины мы начинаем останавливать все процессы, а далее совершаем удаление именнованного семафора тем самым "закрывая" галерею.

# На 5 баллов:
### Приведено условие задачи:
> [five.c](https://github.com/Raaazzy/OS_HW_2/blob/main/5_points/five.c)

### Приведены тестовые данные:
> [tests](https://github.com/Raaazzy/OS_HW_2/tree/main/5_points/tests)

### Представлена общая схема решаемой задачи:
Множество процессов взаимодействуют с использованием неименованных POSIX семафоров расположенных в разделяемой памяти. Обмен данными также ведется через разделяемую память в стандарте POSIX.<br>
Пользователь вводит в файл количество посетителей и картин. Каждый посетитель и каждая картинка являются отдельными процессами. Для начала мы создаем область разделяемой памяти, а также неименованный сумафор. После чего уже создаем обеъкт разделяемой памати, который является файловым дескриптором. Далее мы связываем область разделяемой памяти с файловым дескриптором. В ходе программы запускаем родительский процесс (картину), а далее от нее начинаем запускать дочерние процессы (клиентов). Таким образом мы производим допуск посетителей к просмотру картины. После того, как все посетители "посмотрели" все картины мы начинаем останавливать все процессы, а далее совершаем удаление неименнованного семафора тем самым "закрывая" галерею.

# На 6 баллов:
### Приведено условие задачи:
> [six.c](https://github.com/Raaazzy/OS_HW_2/blob/main/6_points/six.c)

### Приведены тестовые данные:
> [tests](https://github.com/Raaazzy/OS_HW_2/tree/main/6_points/tests)

### Представлена общая схема решаемой задачи:
Множество процессов взаимодействуют с использованием семафоров в стандарте UNIX SYSTEM V. Обмен данными ведется через разделяемую память в стандарте UNIX SYSTEM V.<br>
Пользователь вводит в файл количество посетителей и картин. Каждый посетитель и каждая картинка являются отдельными процессами. Для начала мы создаем область разделяемой памяти и подключаем область разделяемой памяти к адресному пространству текущего процесса. Теперь создаем новый сумафор (или получаем id уже существующего). В ходе программы запускаем родительский процесс (картину), а далее от нее начинаем запускать дочерние процессы (клиентов). Таким образом мы производим допуск посетителей к просмотру картины. После того, как все посетители "посмотрели" все картины мы начинаем останавливать все процессы, а далее совершаем удаление семафора с определенным id тем самым "закрывая" галерею.

# На 7 баллов:
### Приведено условие задачи:
> [seven.c](https://github.com/Raaazzy/OS_HW_2/blob/main/7_points/six.c)

### Приведены тестовые данные:
> [tests](https://github.com/Raaazzy/OS_HW_2/tree/main/7_points/tests)

### Представлена общая схема решаемой задачи:
Необходимо разработать приложение, состоящую из отдельных программ–процессов, запускаемых независимо друг от друга. Множество независимых процессов взаимодействуют с использованием именованных POSIX семафоров. Обмен данными ведется через разделяемую память в стандарте POSIX.<br>
Пользователь вводит в файл количество посетителей. Количество картин фиксированное и равно 5. Каждый посетитель и каждая картинка являются отдельными процессами. Для начала мы создаем родительский семафор галереи. Далее открывам его для доступа к посетителям в галерее, а также открываем все семафоры картин. После этого начинаем рандомно "раскидывать" посетителей по картинам. Если посетитель просмотрел все карнтины, то мы выполняем освобождение семафора. Как только все посетители просмотрели все картины, то процесс просто завершает работу.

# На 8 баллов:
### Приведено условие задачи:
> [seven.c](https://github.com/Raaazzy/OS_HW_2/blob/main/8_points/six.c)

### Приведены тестовые данные:
> [tests](https://github.com/Raaazzy/OS_HW_2/tree/main/8_points/tests)

### Представлена общая схема решаемой задачи:
Множество независимых процессов взаимодействуют с использованием семафоров в стандарте UNIX SYSTEM V. Обмен данными ведется через разделяемую память в стандарте UNIX SYSTEM V.<br>
Пользователь вводит в файл количество посетителей. Количество картин фиксированное и равно 5. Каждый посетитель и каждая картинка являются отдельными процессами. Для начала мы создаем родительский семафор галереи. Далее открывам его для доступа к посетителям в галерее, а также открываем все семафоры картин. После этого начинаем рандомно "раскидывать" посетителей по картинам. Если посетитель просмотрел все карнтины, то мы выполняем освобождение семафора. Как только все посетители просмотрели все картины, то процесс просто завершает работу.
